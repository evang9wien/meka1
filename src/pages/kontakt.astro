---
import Layout from '~/layouts/PageLayout.astro';
import Part from '~/components/widgets/Part.astro';
import Pfarramt from '~/components/parts/pfarramt.md';
import Amtshandlungen from '~/components/parts/amtshandlungen.md';
import Verkehrsmittel from '~/components/parts/verkehrsmittel.md';
import Kurzparkzone from '~/components/parts/kurzparkzone.md';
//import { getPermalink, getAsset } from '~/utils/permalinks';
import { SITE, APP_BLOG } from '~/utils/config';

import OpenStreetMap from '~/components/svelte/OpenStreetMap.svelte';

import type { MetaData } from '~/types';

const metadata: MetaData = {
  title: 'Kontakt',
};

const view = [48.2231769, 16.3641052];
const zoom = 17;
const minZoom = 12;
const maxZoom = 19;
const marker = [48.2231769, 16.3641052];
const markerPopup = 'Evangelische Messiaskapelle';
//const markerPath = 'https://unpkg.com/browse/leaflet@1.9.4/dist/images/';
const markerPath = SITE.base + '/leaflet/images';
---

<Layout metadata={metadata}>
  <section class="px-4 py-16 sm:px-6 mx-auto lg:px-8 lg:py-20 max-w-4xl">
    <h1 class="font-bold font-heading text-4xl md:text-5xl leading-tighter tracking-tighter">{metadata.title}</h1>
    <div
      class="mx-auto prose prose-lg max-w-4xl dark:prose-invert dark:prose-headings:text-slate-300 prose-md prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-img:rounded-md prose-img:shadow-lg mt-8"
    >
      <Part><em>letzte Änderung</em>: Februar 2024<br /></Part>
      <Part title="Evangelisches Pfarramt A.B. Wien-Alsergrund">
        <Pfarramt />
      </Part>
      <Part title="Anmeldung von Amtshandlungen">
        <Amtshandlungen />
      </Part>
      <Part title="Öffentliche Verkehrsmittel">
        <Verkehrsmittel />
      </Part>
      <Part title="Achtung Autofahrer_innen!">
        <Kurzparkzone />
      </Part>
      <div class="relative h-fit pb-[80%] md:pb-[100%]">
        <OpenStreetMap
          client:only
          view={view}
          zoom={zoom}
          minZoom={minZoom}
          maxZoom={maxZoom}
          marker={marker}
          markerPopup={markerPopup}
          markerPath={markerPath}
        />
      </div>
    </div>
  </section>
</Layout>
